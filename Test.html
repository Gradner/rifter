<html>
    <head>
        <title>My first Three.js app</title>
        <style>
            canvas { width: 100%; height: 100% }
            body { overflow: hidden; backgroundcolor: black; }
        </style>
    </head>
    <body onLoad="Load()" onKeyDown="Down(event)" onKeyUp="Up(event)">
        <script src="https://rawgithub.com/mrdoob/three.js/master/build/three.js"></script>
        <script>
            var speedy = 0;
            var speedx = 0;
            
            var scene = new THREE.Scene();
            var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );

            var renderer = new THREE.WebGLRenderer( {antialias:true} );
            renderer.setSize( window.innerWidth, window.innerHeight );
            document.body.appendChild( renderer.domElement );
            
            var geometry = new THREE.CubeGeometry(1,1,1);
            var material = new THREE.MeshPhongMaterial( { color: 0x00ff00 } );
            var cube = new THREE.Mesh( geometry, material );
            scene.add( cube );
            
            var spotLight = new THREE.SpotLight( 0xffffff );
            spotLight.position.set( 27, 200, 50 );
            spotLight.castShadow = true;
            spotLight.shadowMapWidth = 1024;
            spotLight.shadowMapHeight = 1024;
            spotLight.shadowCameraNear = 500;
            spotLight.shadowCameraFar = 4000;
            spotLight.shadowCameraFov = 30;
            scene.add( spotLight );
            
            var skyBoxGeometry = new THREE.CubeGeometry( 10000, 10000, 10000 );
            var skyBoxMaterial = new THREE.MeshBasicMaterial( { color: 0x9999ff, side: THREE.BackSide } );
            var skyBox = new THREE.Mesh( skyBoxGeometry, skyBoxMaterial );
            // scene.add(skyBox);
            scene.fog = new THREE.FogExp2( 0x9999ff, 0.00025 );
            
            camera.position.z = 5;
            
            var pressedl = 0;
            var pressedu = 0;
            var pressedr = 0;
            var pressedd = 0;

            function Down(e) { 
                cxc = e.keyCode;
                if(cxc == 37)
                    pressedl = 1;
                if(cxc == 38)
                    pressedu = 1;
                if(cxc == 39)
                    pressedr = 1;
                if(cxc == 40)
                    pressedd = 1;
                //alert(cxc);
                }
            function Up(e) {
                cxc = e.keyCode;
                if(cxc == 37)
                    pressedl = 0;
                if(cxc == 38)
                    pressedu = 0;
                if(cxc == 39)
                    pressedr = 0;
                if(cxc == 40)
                    pressedd = 0;
                //alert(cxc);
                }
            

            

            
            function render() {
            requestAnimationFrame(render);
            renderer.render(scene, camera);
            
            cube.rotation.y += speedy;
            cube.rotation.x += speedx;
            
            if(pressedl == 1){speedy += 0.001};
            if(pressedu == 1){speedx += 0.001};
            if(pressedr == 1){speedy -= 0.001};
            if(pressedd == 1){speedx -= 0.001};
            
            if(pressedl == 0){ if(speedy>0){speedy -= 0.001}};
            if(pressedu == 0){ if(speedx>0){speedx -= 0.001}};
            if(pressedr == 0){ if(speedy<0){speedy += 0.001}};
            if(pressedd == 0){ if(speedx<0){speedx += 0.001}};
            
            if (speedy<-0.1){speedy=-0.1};
            if (speedy>0.1){speedy=0.1};
            if (speedx<-0.1){speedx=-0.1};
            if (speedx>0.1){speedx=0.1};
            
            }
            render();
        </script>
    </body>
</html>